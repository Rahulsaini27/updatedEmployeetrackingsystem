{% extends 'OrgDashboard.html' %}
{% block dashboard_content  %}
{% load custom_perms %} {# Add this line #}
<div class="row justify-content-center pt-4">
    <div class="col-12 col-md-8 col-lg-6 mb-4">
        <div class="card shadow rounded-4 border-0 p-5">
            <h3 class="h3 text-center mb-4">User profile</h3>
            <div class="d-flex justify-content-center mb-4">
                <lottie-player src="https://assets10.lottiefiles.com/packages/lf20_2jbzmbru.json"
                    background="transparent" speed="1" style="width: 300px; height: 250px;" loop autoplay>
                </lottie-player>
            </div>
            <form> {# Use a form tag for structure, but inputs remain readonly #}
                <div class="form-group mb-3">
                    <label class="form-label">Full Name:</label>
                    <input type="text" class="form-control" value="{{msg.e_name.upper}}" readonly>
                </div>
                <div class="form-group mb-3">
                    <label class="form-label">Email Address:</label>
                    <input type="email" class="form-control" value="{{msg.e_email}}" readonly>
                </div>
                <div class="form-group mb-3">
                    <label class="form-label">Role:</label>
                    <input type="text" class="form-control" value="{{ msg.role.name|default:'Not Assigned' }}" readonly>
                </div>
                <div class="form-group mb-3">
                    <label class="form-label">Contact Number:</label>
                    <input type="number" class="form-control" value="{{msg.e_contact}}" readonly>
                </div>
                <div class="form-group mb-3">
                    <label class="form-label">Gender:</label>
                    <input type="text" class="form-control" value="{{msg.e_gender.upper}}" readonly>
                </div>
                <div class="form-group mb-4">
                    <label class="form-label">Address:</label>
                    <textarea class="form-control" rows="4" readonly>{{msg.e_address}}</textarea>
                </div>
                
                <h4 class="h5 mt-4 mb-3">Task Statistics:</h4>
                <div class="form-group mb-3">
                    <label class="form-label">Total Tasks:</label>
                    <input type="text" class="form-control" value="{{msg1}}" readonly>
                </div>
                <div class="form-group mb-3">
                    <label class="form-label">Completed Tasks:</label>
                    <input type="text" class="form-control" value="{{msg2}}" readonly>
                </div>
                <div class="form-group mb-4">
                    <label class="form-label">Pending Tasks:</label>
                    <input type="text" class="form-control" value="{{msg3}}" readonly>
                </div>

                <div class="form-group">
                    <label class="form-label">Assigned Projects:</label>
                    <ul class="list-group list-group-flush border rounded-3"> {# Added border and rounded-3 for list group #}
                        {% for result in msg4 %}
                        <li class="list-group-item">{{result.p_name}}</li>
                        {% empty %}
                        <li class="list-group-item text-muted">No projects assigned.</li>
                        {% endfor %}
                    </ul>
                </div>
            </form>
        </div>
    </div>
</div>
{% endblock %} 
{% comment %} {% extends 'OrgDashboard.html' %}
{% block dashboard_content  %}
{% load custom_perms %} {# Add this line #}
<div class="row justify-content-center pt-4">
    <div class="col-12 col-md-8 col-lg-6 mb-4">
        <div class="card shadow rounded-4 border-0 p-5">
            <h3 class="h3 text-center mb-4 text-white">User profile</h3>
            <div class="d-flex justify-content-center mb-4">
                <lottie-player src="https://assets10.lottiefiles.com/packages/lf20_2jbzmbru.json"
                    background="transparent" speed="1" style="width: 300px; height: 250px;" loop autoplay>
                </lottie-player>
            </div>
            <form> {# Use a form tag for structure, but inputs remain readonly #}
                <div class="form-group mb-3">
                    <label class="form-label text-white">Full Name:</label>
                    <input type="text" class="form-control" value="{{msg.e_name.upper}}" readonly>
                </div>
                <div class="form-group mb-3">
                    <label class="form-label text-white">Email Address:</label>
                    <input type="email" class="form-control" value="{{msg.e_email}}" readonly>
                </div>
                <div class="form-group mb-3">
                    <label class="form-label text-white">Role:</label>
                    <input type="text" class="form-control" value="{{ msg.role.name|default:'Not Assigned' }}" readonly>
                </div>
                <div class="form-group mb-3">
                    <label class="form-label text-white">Contact Number:</label>
                    <input type="number" class="form-control" value="{{msg.e_contact}}" readonly>
                </div>
                <div class="form-group mb-3">
                    <label class="form-label text-white">Gender:</label>
                    <input type="text" class="form-control" value="{{msg.e_gender.upper}}" readonly>
                </div>
                <div class="form-group mb-4">
                    <label class="form-label text-white">Address:</label>
                    <textarea class="form-control" rows="4" readonly>{{msg.e_address}}</textarea>
                </div>

                <h4 class="h5 mt-4 mb-3 text-white">Task Statistics:</h4>
                <div class="form-group mb-3">
                    <label class="form-label text-white">Total Tasks:</label>
                    <input type="text" class="form-control" value="{{msg1}}" readonly>
                </div>
                <div class="form-group mb-3">
                    <label class="form-label text-white">Completed Tasks:</label>
                    <input type="text" class="form-control" value="{{msg2}}" readonly>
                </div>
                <div class="form-group mb-4">
                    <label class="form-label text-white">Pending Tasks:</label>
                    <input type="text" class="form-control" value="{{msg3}}" readonly>
                </div>

                <div class="form-group">
                    <label class="form-label text-white">Assigned Projects:</label>
                    <ul class="list-group list-group-flush border rounded-3"> {# Added border and rounded-3 for list group #}
                        {% for result in msg4 %}
                        <li class="list-group-item bg-transparent text-light-gray">{{result.p_name}}</li>
                        {% empty %}
                        <li class="list-group-item text-muted bg-transparent">No projects assigned.</li>
                        {% endfor %}
                    </ul>
                </div>
            </form>
        </div>
    </div>
</div>
{% endblock %}
 {% endcomment %}
